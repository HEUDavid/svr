<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>mdavid.cn</title>
    <link rel="stylesheet" href="src/style.css">
</head>
<body>
<div class="area">
    <ul class="circles">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
</div>


<div class="footer">
    <a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=23010302000239"
       target="_blank">黑公网安备 23010302000239号</a>
    <a href="https://beian.miit.gov.cn" target="_blank">苏ICP备17021154号-1</a>
</div>


<div class='list-container'>
    <h1>mdavid.cn</h1>
    <h2>Backtesting</h2>
    <ul class='list' id="fileList"></ul>
</div>


<script>
    var fileListElement = document.getElementById('fileList');
    var xhr = new XMLHttpRequest();
    xhr.open('GET', '/data/', true);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
            var files = JSON.parse(xhr.responseText);
            files.forEach(function (file) {
                var li = document.createElement('li');

                var link = document.createElement('a');
                link.target = '_blank';
                link.href = '/data/' + file.name;

                var span = document.createElement('span');
                span.className = 'circle';
                link.appendChild(span);

                var date = new Date(file.mtime);
                link.textContent = file.name + ' ' + date.toLocaleString();

                li.appendChild(link);
                fileListElement.appendChild(li);
            });
        }
    };
    xhr.send();
</script>

</body>
</html>
