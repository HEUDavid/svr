<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>mdavid.cn</title>
    <link rel="stylesheet" href="src/style.css">
</head>
<body>
<div class="area">
    <ul class="circles">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
</div>


<div class="footer">
    <a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=23010302000239"
       target="_blank">黑公网安备 23010302000239号</a>
    <a href="https://beian.miit.gov.cn" target="_blank">苏ICP备17021154号-1</a>
</div>


<div class='list-container'>
    <h1>mdavid.cn</h1>
    <h2>Backtesting</h2>
    <ul class='list' id="fileList"></ul>
</div>


<script>
    // 获取文件列表元素
    var fileListElement = document.getElementById('fileList');

    // 发起异步请求获取数据
    fetch('/data/')
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(files => {
            // 处理返回的文件列表数据
            files.forEach(file => {
                // 创建 li 元素
                var li = document.createElement('li');

                // 创建 span 元素并添加到 li 中
                var span = document.createElement('span');
                span.className = 'circle';
                li.appendChild(span);

                // 创建 a 元素并设置属性
                var link = document.createElement('a');
                link.target = '_blank';
                link.href = '/data/' + file.name;

                // 设置 a 元素的文本内容
                var date = new Date(file.mtime);
                link.textContent = date.toLocaleString() + ' ' + file.name;

                // 将 a 元素添加到 li 中
                li.appendChild(link);

                // 将 li 元素添加到文件列表元素中
                fileListElement.appendChild(li);
            });
        })
        .catch(error => {
            // 处理错误
            console.error('Fetch error:', error);
        });

</script>


</body>
</html>
